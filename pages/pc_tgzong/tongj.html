<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>总部运价查询统计</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" type="text/css" href="../../plugins/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="../../plugins/font-awesome/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="../../admin/css/main.css" />
		<link rel="stylesheet" type="text/css" href="../../assets/css/style.css" />
		<link rel="stylesheet" type="text/css" href="../../assets/css/fenye.css" />

		<style>
			#dom1,#dom2,#dom3{
				width: 800px;
				height: 500px;
				border: 1px solid green;
			}
		</style>
	</head>

	<body>

		<div class="myquxiao">

		</div>
		<div class="qxqd">
			<div class="qxqdson">Are you sure to cancel?<br>确定取消吗？</div>
			<div class="text-center">
				<button class="btn btn-sm btn-primary qxbtn" style="margin-right: 40px;">YES(确定)</button>
				<button class="btn btn-sm btn-info myqx">NO(取消)</button>
			</div>

		</div>

		<div class='header'>
			<div class='logo'></div>
			<nav class='navbar navheader'>
				<!--<div class="pull-left clickbtn"> <button class="btn btn-primary "> <i class="fa fa-bars"></i> </button> </div>-->
				<div class="pull-left" style="color: white;line-height: 65px;margin-left: 10px;">
					<i class="fa fa-user"></i> <span class="username"></span>
				</div>
				<ul class="nav navbar-nav navbar-right clickul">
					<li>
						<a class="tuideng" style="cursor: pointer;">
							<i class="fa fa-envelope-o"></i> <span style="">退出登录</span>
						</a>

					</li>

				</ul>
			</nav>
		</div>
		<div class='conspage'>
			<div class='conspageson'>
				<ol class="breadcrumb">
					<li>
						<a href="#">统计分析</a>
					</li>
					<li class="active">运价查询统计</li>
				</ol>
			</div>
		</div>
		<div class='seider-after'>
			<div class="scroll">
				<aside class='seider'>

					<div class="panel-group" id="accordion">
						<div class="panel panel-default panelclick">
							<div class="panel-heading">
								<a href="pc_zongyong.html">
									<span class='tu'><i class="fa fa-random"></i></span> &nbsp;&nbsp;
									<span class='zi'>用户管理</span>
								</a>

							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapseTwo">
									<span class='tu'><i class="fa fa-files-o"></i></span> &nbsp;&nbsp;
									<span class='zi'>询盘管理</span>

									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapseTwo" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="pc_zongxunpan.html">当前询盘</a>
										</li>
										<li>
											<a href="zongxunpanwan.html">已完成询盘</a>
										</li>
										<li>
											<a href="zongxunpanqu.html">已取消询盘</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapseThree">
									<span class='tu'><i class="fa fa-book"></i></span> &nbsp;&nbsp;
									<span class='zi'>询价管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapseThree" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="zongxjgl.html">当前询价</a>
										</li>
										<li>
											<a href="zongxjglywc.html">已完成</a>
										</li>
										<li>
											<a href="zongxjglqx.html">已取消</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse4">
									<span class='tu'><i class="fa  fa-tasks"></i></span> &nbsp;&nbsp;
									<span class='zi'>订单管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse4" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="#">新增订单(录单)</a>
										</li>
										<li>
											<a href="#">订单管理</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse5">
									<span class='tu'><i class="fa  fa-ship"></i></span> &nbsp;&nbsp;
									<span class='zi'>物流可视化</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse5" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="#">全程物流跟踪</a>
										</li>
										<li>
											<a href="#">物流状态维护</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse6">
									<span class='tu'><i class="fa   fa-tags"></i></span> &nbsp;&nbsp;
									<span class='zi'>运价管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse6" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="zongyjcx.html">运价查询</a>
										</li>
										<li>
											<a href="#">运价编辑</a>
										</li>
										<li>
											<a href="#">热门港口设置</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse7" class="active">
									<span class='tu'><i class="fa  fa-bars"></i></span> &nbsp;&nbsp;
									<span class='zi'>基础数据</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse7" class="panel-collapse collapse in">
								<div class="panel-body">
									<ul>
										<li>
											<a href="pc_xugangguan.html">港口管理</a>
										</li>
										<li>
											<a href="pc_xuchuanguan.html">船公司管理</a>
										</li>
										<li>
											<a href="pc_xuhangguan.html">航线管理</a>
										</li>
										<li>
											<a href="pc_xumingguan.html">航名航次管理</a>
										</li>
										<li>
											<a href="pc_xutiguan.html">提箱堆场管理</a>
										</li>
										<li>
											<a href="pc_xumaguan.html">码头管理</a>
										</li>
										<li>
											<a href="pc_xufeiguan.html">费项管理</a>
										</li>
										<li>
											<a href="pc_xubiguan.html">币种管理</a>
										</li>

									</ul>
								</div>
							</div>
						</div>

						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse8">
									<span class='tu'><i class="fa  fa-file-powerpoint-o"></i></span> &nbsp;&nbsp;
									<span class='zi'>权限管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse8" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="#">系统管理员</a>
										</li>
										<li>
											<a href="#">操作人员</a>
										</li>
										<li>
											<a href="#">商务人员</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse9">
									<span class='tu'><i class="fa  fa-pie-chart"></i></span> &nbsp;&nbsp;
									<span class='zi'>统计分析</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse9" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="zongyctj.html">运价查询统计</a>
										</li>
										<li>
											<a href="#">询价统计</a>
										</li>
										<li>
											<a href="#">利润统计</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse10">
									<span class='tu'><i class="fa  fa-list-alt"></i></span> &nbsp;&nbsp;
									<span class='zi'>日志管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse10" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="#">登录日志</a>
										</li>
										<li>
											<a href="#">操作日志</a>
										</li>
										<li>
											<a href="#">查询日志</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse11">
									<span class='tu'><i class="fa   fa-volume-up"></i></span> &nbsp;&nbsp;
									<span class='zi'>通知管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse11" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="#">发布通知</a>
										</li>
										<li>
											<a href="#">通知列表</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse12">
									<span class='tu'><i class="fa  fa-credit-card"></i></span> &nbsp;&nbsp;
									<span class='zi'>广告管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse12" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="#">广告列表</a>
										</li>

									</ul>
								</div>
							</div>
						</div>
						<div class="panel panel-default panelclick">
							<div class="panel-heading">

								<a data-toggle="collapse" data-parent="#accordion" data-target="#collapse13">
									<span class='tu'><i class="fa  fa-barcode"></i></span> &nbsp;&nbsp;
									<span class='zi'>密码管理</span>
									<i class='pull-right fa fa-angle-left '></i>
								</a>

							</div>
							<div id="collapse13" class="panel-collapse collapse ">
								<div class="panel-body">
									<ul>
										<li>
											<a href="#">密码列表</a>
										</li>

									</ul>
								</div>
							</div>
						</div>

					</div>
				</aside>
			</div>
		</div>

		<div class='content'>

			<div style="padding: 15px;">
				<div id='dom1' class="pull-left"></div>
				<div id='dom2' class="pull-left" style="margin-left: 15px;"></div>
				<div id='dom3' class="pull-left" style="margin-top: 15px;"></div>
			</div>
		</div>
		

		

		<script src="../../plugins/jquery-2.1.4/jquery.min.js"></script>
		<script src='../../plugins/bootstrap/js/bootstrap.min.js'></script>
		<script type="text/javascript" src="../../plugins/jquery.slimscroll.js"></script>
		<script src='../../fenye/js/jquery.page.js'></script>
		<script src='../../plugins/ECharts/echarts.min.js'></script>
		<script>
			$('.scroll').slimScroll({
				height: '90%',

			})
		</script>
		<script src='../../admin/js/main.js'></script>
		<script src="../../assets/js/tuichu.js"></script>
		<script>
		
		 var shu=[];
		
		
		//获取询盘列表
			function getpan() {
				
				var g = new Date().getTime();
				$.ajax({
					type: "post",
					url: "http://106.14.251.28:8085/bizCenter/enquiryService/getEnquirys",
					data: {
						'accessToken': localStorage.accessToken,
						'msgId': g + '',
						"isBackward": 1,
						"enquiryStatus": 0,
						"polCode": '',
						"podCode": '',
						"schemeStatus": '',
						"enquiryTimeStart": '',
						"enquiryTimeEnd": '',
						'enquirybizStatus':'',//询价状态
						"currentPage": '', //当前页数
						"pageSize": '' //页长
					},
					async: true,
					dataType: 'json',
					success: function(json) {
						console.log(json)
						for(var i=0;i<json.enquirys.length;i++){
							shu.push(json.enquirys[i].podName)
						}
						
						console.log(shu[0])
						
						var arr={}
						
						
						
						for (var j=0;j<shu.length;j++) {
							if(arr[shu[j]]){
								arr[shu[j]]=arr[shu[j]]+1
							}else{
								arr[shu[j]]=1
							}
							
						}
						console.log(arr)
						
						var myname=[]
						
						
						for (var m in arr) {
							
							myname.push(m)
						}
						console.log(myname)
						
						var myvalue=[]
						var myvaluez=[]
						
						for (var n=0;n<myname.length;n++) {
							var x=myname[n]
							var y=arr[x]
							var obj={};
							obj['value']=y;
							obj['name']=x
							myvalue.push(obj)
							 myvaluez.push(y)
						}
						console.log(myvalue)
						
						var option1 = {
						    title : {
						        text: '某站点用户访问来源',
						        subtext: '纯属虚构',
						        x:'center'
						    },
						    tooltip : {
						        trigger: 'item',
						        formatter: "{a} <br/>{b} : {c} ({d}%)"
						    },
						    legend: {
						        orient: 'vertical',
						        left: 'left',
						        data: myname,
						    },
						     toolbox: {
						        show: true,
						        feature: {
						            dataZoom: {
						                yAxisIndex: 'none'
						            },
						            dataView: {readOnly: false},
						            magicType: {type: ['line', 'bar']},
						            restore: {},
						            saveAsImage: {}
						        }
						    },
						    series : [
						        {
						            name: '访问来源',
						            type: 'pie',
						            radius : '55%',
						            center: ['50%', '60%'],
						            data:myvalue,
						            itemStyle: {
						                emphasis: {
						                    shadowBlur: 10,
						                    shadowOffsetX: 0,
						                    shadowColor: 'rgba(0, 0, 0, 0.5)'
						                }
						            }
						        }
						    ]
						};
						
						myChart1.setOption(option1);
						
						
						//app.title = '坐标轴刻度与标签对齐';

			 option2 = {
			    color: ['#3398DB'],
			    tooltip : {
			        trigger: 'axis',
			        axisPointer : {            // 坐标轴指示器，坐标轴触发有效
			            type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
			        }
			    },
			    grid: {
			        left: '3%',
			        right: '4%',
			        bottom: '3%',
			        containLabel: true
			    },
			    toolbox: {
						        show: true,
						        feature: {
						            dataZoom: {
						                yAxisIndex: 'none'
						            },
						            dataView: {readOnly: false},
						            magicType: {type: ['line', 'bar']},
						            restore: {},
						            saveAsImage: {}
						        }
						    },
			    xAxis : [
			        {
			            type : 'category',
			            data : myname,
			            axisTick: {
			                alignWithLabel: true
			            }
			        }
			    ],
			    yAxis : [
			        {
			            type : 'value'
			        }
			    ],
			    series : [
			        {
			            name:'港口查询次数',
			            type:'bar',
			            barWidth: '60%',
			            data:myvaluez
			        }
			    ]
			};
			myChart2.setOption(option2);
			
						
						
					},
					error: function(data) {
						console.log('ajax请求错误')
					}
				})
			}
		getpan()
		
		 var myChart1 = echarts.init(document.getElementById('dom1'));
		 var myChart2 = echarts.init(document.getElementById('dom2'));
		 var myChart3 = echarts.init(document.getElementById('dom3'));
			var option1;
			var option2
			
			
			
			
			var option3 = {
			    title: {
			        text: '未来一周气温变化',
			        subtext: '纯属虚构'
			    },
			    tooltip: {
			        trigger: 'axis'
			    },
			    legend: {
			        data:['最高气温','最低气温']
			    },
			    toolbox: {
			        show: true,
			        feature: {
			            dataZoom: {
			                yAxisIndex: 'none'
			            },
			            dataView: {readOnly: false},
			            magicType: {type: ['line', 'bar']},
			            restore: {},
			            saveAsImage: {}
			        }
			    },
			    xAxis:  {
			        type: 'category',
			        boundaryGap: false,
			        data: ['周一','周二','周三','周四','周五','周六','周日']
			    },
			    yAxis: {
			        type: 'value',
			        axisLabel: {
			            formatter: '{value} °C'
			        }
			    },
			    series: [
			        {
			            name:'最高气温',
			            type:'line',
			            data:[11, 11, 15, 13, 12, 13, 10],
			            markPoint: {
			                data: [
			                    {type: 'max', name: '最大值'},
			                    {type: 'min', name: '最小值'}
			                ]
			            },
			            markLine: {
			                data: [
			                    {type: 'average', name: '平均值'}
			                ]
			            }
			        },
			        {
			            name:'最低气温',
			            type:'line',
			            data:[1, -2, 2, 5, 3, 2, 0],
			            markPoint: {
			                data: [
			                    {name: '周最低', value: -2, xAxis: 1, yAxis: -1.5}
			                ]
			            },
			            markLine: {
			                data: [
			                    {type: 'average', name: '平均值'},
			                    [{
			                        symbol: 'none',
			                        x: '90%',
			                        yAxis: 'max'
			                    }, {
			                        symbol: 'circle',
			                        label: {
			                            normal: {
			                                position: 'start',
			                                formatter: '最大值'
			                            }
			                        },
			                        type: 'max',
			                        name: '最高点'
			                    }]
			                ]
			            }
			        }
			    ]
			};
			
				myChart3.setOption(option3);
		</script>

	</body>

</html>